(function(a,e,c,d){var b=a(e);a.fn.lazyload=function(h){var g=this;var f;var i={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function j(){var k=0;g.each(function(){var l=a(this);if(i.skip_invisible&&!l.is(":visible")){return}if(a.abovethetop(this,i)||a.leftofbegin(this,i)){}else{if(!a.belowthefold(this,i)&&!a.rightoffold(this,i)){l.trigger("appear");k=0}else{if(++k>i.failure_limit){return false}}}})}if(h){if(d!==h.failurelimit){h.failure_limit=h.failurelimit;delete h.failurelimit}if(d!==h.effectspeed){h.effect_speed=h.effectspeed;delete h.effectspeed}a.extend(i,h)}f=(i.container===d||i.container===e)?b:a(i.container);if(0===i.event.indexOf("scroll")){f.bind(i.event,function(){return j()})}this.each(function(){var l=this;var k=a(l);l.loaded=false;if(k.attr("src")===d||k.attr("src")===false){if(k.is("img")){k.attr("src",i.placeholder)}}k.one("appear",function(){if(!this.loaded){if(i.appear){var m=g.length;i.appear.call(l,m,i)}a("<img />").bind("load",function(){var o=k.attr("data-"+i.data_attribute);k.hide();if(k.is("img")){k.attr("src",o)}else{k.css("background-image","url('"+o+"')")}k[i.effect](i.effect_speed);l.loaded=true;var p=a.grep(g,function(q){return !q.loaded});g=a(p);if(i.load){var n=g.length;i.load.call(l,n,i)}}).attr("src",k.attr("data-"+i.data_attribute))}});if(0!==i.event.indexOf("scroll")){k.bind(i.event,function(){if(!l.loaded){k.trigger("appear")}})}});b.bind("resize",function(){j()});if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){b.bind("pageshow",function(k){if(k.originalEvent&&k.originalEvent.persisted){g.each(function(){a(this).trigger("appear")})}})}a(c).ready(function(){j()});return this};a.belowthefold=function(f,h){var g;if(h.container===d||h.container===e){g=(e.innerHeight?e.innerHeight:b.height())+b.scrollTop()}else{g=a(h.container).offset().top+a(h.container).height()}return g<=a(f).offset().top-h.threshold};a.rightoffold=function(f,h){var g;if(h.container===d||h.container===e){g=b.width()+b.scrollLeft()}else{g=a(h.container).offset().left+a(h.container).width()}return g<=a(f).offset().left-h.threshold};a.abovethetop=function(f,h){var g;if(h.container===d||h.container===e){g=b.scrollTop()}else{g=a(h.container).offset().top}return g>=a(f).offset().top+h.threshold+a(f).height()};a.leftofbegin=function(f,h){var g;if(h.container===d||h.container===e){g=b.scrollLeft()}else{g=a(h.container).offset().left}return g>=a(f).offset().left+h.threshold+a(f).width()};a.inviewport=function(f,g){return !a.rightoffold(f,g)&&!a.leftofbegin(f,g)&&!a.belowthefold(f,g)&&!a.abovethetop(f,g)};a.extend(a.expr[":"],{"below-the-fold":function(f){return a.belowthefold(f,{threshold:0})},"above-the-top":function(f){return !a.belowthefold(f,{threshold:0})},"right-of-screen":function(f){return a.rightoffold(f,{threshold:0})},"left-of-screen":function(f){return !a.rightoffold(f,{threshold:0})},"in-viewport":function(f){return a.inviewport(f,{threshold:0})},"above-the-fold":function(f){return !a.belowthefold(f,{threshold:0})},"right-of-fold":function(f){return a.rightoffold(f,{threshold:0})},"left-of-fold":function(f){return !a.rightoffold(f,{threshold:0})}})})(jQuery,window,document);